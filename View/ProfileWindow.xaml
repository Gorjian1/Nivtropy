<Window x:Class="Nivtropy.Views.ProfileWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Профиль хода"
        Width="600" Height="450"
        MinWidth="400" MinHeight="300"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResizeWithGrip"
        Background="White">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Заголовок в стиле ribbon -->
        <Border Grid.Row="0" Background="#FFE3F2FD" BorderBrush="#FF90CAF9" BorderThickness="0,0,0,1" Padding="12,8">
            <Grid>
                <TextBlock x:Name="TitleText"
                           Text="Профиль хода"
                           FontSize="14"
                           FontWeight="SemiBold"
                           VerticalAlignment="Center" />
                <Button Content="&#xE10A;"
                        FontFamily="Segoe MDL2 Assets"
                        HorizontalAlignment="Right"
                        Width="24"
                        Height="24"
                        FontSize="12"
                        Click="CloseButton_Click"
                        Cursor="Hand"
                        Background="Transparent"
                        BorderThickness="0"
                        Foreground="#FF666666">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Foreground" Value="#FF1976D2"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </Grid>
        </Border>

        <!-- Canvas для рисования профиля -->
        <Border Grid.Row="1" Padding="12" Background="#FFFAFAFA">
            <Canvas x:Name="ProfileCanvas"
                    Background="White"
                    ClipToBounds="True"
                    SizeChanged="ProfileCanvas_SizeChanged"/>
        </Border>

        <!-- Панель настроек под профилем -->
        <Border Grid.Row="2" Background="#FFF5F5F5" BorderBrush="#FFE0E0E0" BorderThickness="0,1,0,0" Padding="12,8">
            <StackPanel>
                <TextBlock Text="Настройки отображения" FontSize="11" FontWeight="SemiBold" Margin="0,0,0,6" Foreground="#FF666666"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Цвет линии -->
                    <TextBlock Grid.Column="0" Text="Цвет:" VerticalAlignment="Center" FontSize="11" Margin="0,0,8,0"/>
                    <ComboBox x:Name="ProfileColorComboBox" Grid.Column="1" SelectedIndex="0" Margin="0,0,12,0" FontSize="11"
                              SelectionChanged="ProfileColorComboBox_SelectionChanged">
                        <ComboBoxItem Content="Синий" Tag="#FF1976D2"/>
                        <ComboBoxItem Content="Зелёный" Tag="#FF4CAF50"/>
                        <ComboBoxItem Content="Оранжевый" Tag="#FFFF9800"/>
                        <ComboBoxItem Content="Красный" Tag="#FFF44336"/>
                    </ComboBox>

                    <!-- Мин высота -->
                    <TextBlock Grid.Column="2" Text="Мин:" VerticalAlignment="Center" FontSize="11" Margin="0,0,4,0"/>
                    <TextBox x:Name="MinHeightTextBox" Grid.Column="3" Width="60" Margin="0,0,12,0" FontSize="11"
                             TextChanged="HeightLimitTextBox_TextChanged" VerticalContentAlignment="Center"/>

                    <!-- Макс высота -->
                    <StackPanel Grid.Column="4" Orientation="Horizontal">
                        <TextBlock Text="Макс:" VerticalAlignment="Center" FontSize="11" Margin="0,0,4,0"/>
                        <TextBox x:Name="MaxHeightTextBox" Width="60" FontSize="11"
                                 TextChanged="HeightLimitTextBox_TextChanged" VerticalContentAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </StackPanel>
        </Border>
    </Grid>
</Window>
